# План автоматизации тестирования запроса на покупку тура по карте и запрос на кредит

### Объект тестирования: 
Веб-сервис по продаже тура

**Цель плана автоматизации** - описание процесса автоматизации тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.
### Тестовые данные 

*Валидные значения:*

**Номер карты:**

Сервис обрабатывает только специальные номера карт, которые предоставлены для тестирования:

APPROVED карта - 1111 2222 3333 4444

DECLINED карта - 5555 6666 7777 8888

**Месяц:**

Числовое значение из двух цифр от 1 до 12

**Год:**

Числовое значение из двух цифр

Год должен быть не прошедшим 

Год должен быть не более 5 лет с текущей даты. 

**Владелец:**

Имя, фамилий на латинице 

Использование пробела и тире 

**CVC**
Любое число, состоящее из трех цифр от 100 до 999

*Невалидные значения:*

**Номер карты:**

Номер карты с 14,15,17,18 цифрами 

Заполнение буквами на кириллице и латинице 

Заполнение специальными символами (!;%?)

Заполнение 16 нулями

Пустое поле

**Месяц:**

Заполнение числом больше 12

Заполнение буквами

Заполнение специальными символами 

Заполнение нулями

Пустое поле

**Год:**

Заполнение предыдущего года 

Заполнение буквами на кириллице или латинице 

Заполнение специальными символами 

Заполнение нулями 

Заполнение будущем годом на более 5 лет больше от текущего 
Пустое поле

**Владелец:**

Заполнение кириллицей 

Заполнение цифрами

Заполнение специальными символами 

Заполнение 1 буквой

Заполнение максимальной длиной

Пустое поле 

**CVC**

Заполнение 1,2 и 4 цифрами 

Заполнение буквами 

Заполнение специальными символами 

Пустое поле 

## Перечень автоматизируемых сценариев:

1. Заходим на веб-сайт 
2. Вводим валидные данные во все поля 
3. Нажимаем на кнопку: Продолжить

*Ожидаемый результат:* Появляется сообщение: "Успешно! Операция одобрена банком" 


1. Заходим на веб-сайт
2. Вводим валидные данные во все поля. кроме поля номер карты 
3. Вводим в поле номер карты невалидное значение
4. Нажимаем на кнопку: Продолжить

*Ожидаемый результат:* Появляется сообщение: "Неверный формат"

1. Заходим на веб-сайт
2. Вводим валидные данные во все поля. кроме поля номер карты
3. Вводим в поле номер карты невалидное значение
4. Нажимаем на кнопку: Продолжить

*Ожидаемый результат:* Появляется сообщение: "Неверный формат"

1. Заходим на веб-сайт
2. Вводим валидные данные во все поля. кроме поля месяц
3. Вводим в поле месяц невалидное значение
4. Нажимаем на кнопку: Продолжить

*Ожидаемый результат:* Появляется сообщение: "Неверно указан срок действия карты"

1. Заходим на веб-сайт
2. Вводим валидные данные во все поля. кроме поля год
3. Вводим в поле год невалидное значение
4. Нажимаем на кнопку: Продолжить

*Ожидаемый результат:* Появляется сообщение: "Неверно указан срок действия карты"

1. Заходим на веб-сайт
2. Вводим валидные данные во все поля. кроме поля номер месяц
3. Вводим в поле месяц невалидное значение
4. Нажимаем на кнопку: Продолжить

*Ожидаемый результат:* Появляется сообщение: "Неверно указан срок действия карты" 

1. Заходим на веб-сайт
2. Вводим валидные данные во все поля. кроме поля Владелец
3. Вводим в поле Владелец невалидное значение
4. Нажимаем на кнопку: Продолжить

*Ожидаемый результат:* Появляется сообщение: "Неверный формат"

1. Заходим на веб-сайт
2. Вводим валидные данные во все поля. кроме поля CVC
3. Вводим в поле CVC невалидное значение
4. Нажимаем на кнопку: Продолжить

*Ожидаемый результат:* Появляется сообщение: "Неверный формат"

API сценарий:
1. Отправка POST запроса Купить с валидным body и карты со статусом APPROVED-статус 200, появление записи в БД
2. Отправка POST запроса Купить в кредит с валидным body и карты со статусом APPROVED-статус 200, появление записи в БД
3. Отправка POST запроса Купить с валидным body и карты со статусом DECLINED-статус 200, появление записи в БД
4.	Отправка POST запроса Купить в кредит с валидным body и карты со статусом DECLINED	статус 200, появление записи в БД
5.	Отправка POST запроса с пустым значением у атрибута body - статус 400, отсутствие записи в БД
6.	Отправка POST запроса с пустым значением у атрибута number - статус 400, отсутствие записи в БД
7.	Отправка POST запроса с пустым значением у атрибута month - статус 400, отсутствие записи в БД
8.	Отправка POST запроса с пустым значением у атрибута year - статус 400, отсутствие записи в БД
9.	Отправка POST запроса с пустым значением у атрибута holder - статус 400, отсутствие записи в БД
10.	Отправка POST запроса с пустым значением у атрибута cvc - статус 400, отсутствие записи в БД

## Перечень используемых инструментов

1. **IntelliJ IDEA**- интегрированная среда разработки ПО для многих языков программирования. Удобная, простая среда подготовки авто-тестов.
2. **JDK 11** - объектно-ориентированный язык программирования, оптимальный для написания понятных и наглядных авто-тестов.
3. **JUnit 5** - инструмент тестирования, среда модульного тестирования для языка программирования Java.
4. **Gradle** - мощная и простая система автоматической сборки проектов, которая используется для упрощения работы с JAVA.
5. **Selenide** - это фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, дающий следующие преимущества: изящный API, поддержка AJAX для стабильных тестов, мощные селекторы, простая конфигурация.
6. **Faker** - это библиотека, которая позволяет генерировать случайные данные. С ее помощью можно заполнить таблицы в базе данных, построить корректные XML-документы, сформировать JSON-ответы для REST.
7. **Allure** - инструмент для создания отчетов о результатах тестирования в автоматизированных тестовых сценариях. Простой интерфейс, удобный и подробный отчет с необходимыми скриншотами и логами.
8. 	**Rest Assured** -	Библиотека для тестирования REST API, позволяет автоматизировать тестирование get и post запросов
9.  **Плагин Lombok** - Плагин используется для минимизации строк кода за счет аннотаций, позволяет оптимизировать код автотестов
10. **Docker Desktop** - Программа для развертывания контейнеров с базами данных MySQL и PostgreSQL и сервисов банка

## Перечень и описание возможных рисков при автоматизации;

1. Отсутствие документации на сервис. 
2. Изменения на странице сайта, которые могут привести к падению авто-тестов написанных до изменений
3. Недоступность сайта или отдельного сервиса 
4. Некорректность тестовых данных при работе с Faker

## Интервальная оценка с учётом рисков (в часах)
* Изучение технического задания - 2 часа 
* Подключение СУБД, библиотек, зависимостей, запуск и изучение приложения - 3 часа 
* Разработка и написание плана автоматизации тестирования - 5 часов;
* Написания кода автотестов - 50 часов 
* Подготовка отчетов о проделанной работе, в случае обнаружения багов, составление issues  - 10 часов 
* Итого - 70 часов, с учетом рисков добавляется 24 часа. 

##  План сдачи работ
1. Написание плана автоматизации тестирования - 30.08.2023
2. Написание кода автотестов - до 08.09.2023 
3. Составление issues, подготовка отчетов о проделанной работ - до 11.09.2023 

 

